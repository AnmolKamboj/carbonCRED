{% extends "layouts/base.html" %}

{% block title %}Employee Dashboard{% endblock %}

{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Progress Card -->
    <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-lg font-semibold mb-4">Monthly Progress</h3>
        
        <div class="space-y-4">
            <div class="flex justify-between text-sm">
                <span>Miles Saved:</span>
                <span>{{ saved_miles }} / 1000</span>
            </div>
            
            <!-- Progress Bar with Data Attribute -->
            <div class="w-full bg-gray-200 rounded-full h-2.5">
                <div class="progress-bar bg-green-600 h-2.5 rounded-full" 
                     data-percent="{{ (saved_miles / 1000) * 100 }}"></div>
            </div>
            
            <div class="text-center text-sm text-gray-600">
                Earned Credits: {{ earned_credits }}
            </div>
        </div>
    </div>

    <!-- Recent Logs Section (unchanged) -->
    <!-- ... -->
</div>

<!-- Log Travel Button -->
<div class="mt-6">
    <a href="{{ url_for('travel_log') }}" 
       class="inline-block bg-green-500 text-white font-medium px-5 py-2 rounded-lg hover:bg-green-600 transition">
       Log New Travel
    </a>
</div>

<!-- JavaScript at the BOTTOM of the template -->
<script src="{{ url_for('static', filename='js/progress.js') }}"></script>
{% endblock %}